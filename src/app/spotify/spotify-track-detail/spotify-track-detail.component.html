<h1>
  Track details
</h1>

<div *ngIf="(artistDetail$ | async) as artist">
  Artist: {{ artist.name }}

  <h4>Genres</h4>
  <mat-chip-list *ngFor="let genre of artist.genres">
    <mat-chip>{{ genre }}</mat-chip>
  </mat-chip-list>
  <span *ngIf="!artist.genres.length">(No genres)</span>

<h4>Audio analysis</h4>
<div *ngIf="(audioAnalysis$ | async) as audioAnalysis">
  <table mat-table>
    <tr>
      <td mat-cell>Tempo</td>
      <td mat-cell>{{ audioAnalysis.tempo }} BPM</td>
    </tr>
    <tr>
        <td mat-cell>Key</td>
        <td mat-cell>{{ audioAnalysis.key }} | {{ audioAnalysis.mode }}</td>
      </tr>
      <tr>
          <td mat-cell>Time signature</td>
          <td mat-cell>{{ audioAnalysis.time_signature }}</td>
        </tr>

    <tr>
      <td mat-cell>acousticness</td>
      <td mat-cell>{{ audioAnalysis.acousticness | percent:'2.2' }}</td>
    </tr>
    <tr>
      <td mat-cell>danceability</td>
      <td mat-cell>{{ audioAnalysis.danceability | percent:'2.2' }}</td>
    </tr>
    <tr>
      <td mat-cell>energy</td>
      <td mat-cell>{{ audioAnalysis.energy | percent:'2.2' }}</td>
    </tr>
    <tr>
      <td mat-cell>instrumentalness</td>
      <td mat-cell>{{ audioAnalysis.instrumentalness | percent:'2.2' }}</td>
    </tr>
    <tr>
      <td mat-cell>liveness</td>
      <td mat-cell>{{ audioAnalysis.liveness | percent:'2.2' }}</td>
      <td>
        <span
          matTooltip="Detects the presence of an audience in the recording. A value above 80% provides strong likelihood that the track is live.">
          ?
        </span>
      </td>
    </tr>
    <tr>
      <td mat-cell>loudness</td>
      <td mat-cell>{{ audioAnalysis.loudness }} dB</td>
    </tr>
    <tr>
      <td mat-cell>speechiness</td>
      <td mat-cell>{{ audioAnalysis.speechiness | percent:'2.2' }}</td>
    </tr>
    <tr>
      <td mat-cell>valence</td>
      <td mat-cell>{{ audioAnalysis.valence | percent:'2.2' }}</td>
      <td>
        <span matTooltip="The musical positiveness conveyed by a track. High valence sound more positive (e.g. happy, cheerful, euphoric), low valence sounds more negative (e.g. sad, depressed, angry). ">
          ?
        </span>
      </td>
    </tr>
  </table>

</div>
